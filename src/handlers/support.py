"""Support and help handler."""
from aiogram import Router, F
from aiogram.filters import Command
from aiogram.types import Message, CallbackQuery, InlineKeyboardButton, FSInputFile
from aiogram.fsm.context import FSMContext
from aiogram.utils.keyboard import InlineKeyboardBuilder
from sqlalchemy.ext.asyncio import AsyncSession

from src.keyboards.main_menu import get_main_menu_keyboard, get_cancel_keyboard
from config import settings
from src.utils.image_constants import MODULE_SUPPORT, MODULE_ABOUT_US, MODULE_RECIPES

router = Router()


@router.message(Command("support"))
@router.message(F.text == "๐ ะะพะฟะพะผะพะณะฐ ัะฐ SOS")
@router.message(F.text == "๐ฌ ะัะดััะธะผะบะฐ")
@router.callback_query(F.data == "support_main")
async def show_support_menu(event: Message | CallbackQuery):
    """Show support menu."""
    if isinstance(event, Message):
        message = event
    else:
        message = event.message
    text = """
๐ด <b>ะกะปัะถะฑะฐ ะฟัะดััะธะผะบะธ</b> ๐

ะะธ ะทะฐะฒะถะดะธ ัะฐะดั ะดะพะฟะพะผะพะณัะธ!

๐ฑ <b>ะะพะฝัะฐะบัะธ:</b>

<b>Telegram:</b> @AndriyKhomenko
<b>ะขะตะปะตัะพะฝ:</b> +380 XX XXX XX XX
<b>Email:</b> monkeyscoffeeraoster@gmail.com

<b>ะัะฐััะบ ัะพะฑะพัะธ:</b>
ะะฝ-ะั: 9:00 - 20:00
ะกะฑ-ะะด: 10:00 - 18:00

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

โ <b>ะงะฐััั ะฟะธัะฐะฝะฝั:</b>

<b>ะกะบัะปัะบะธ ะทะฑะตััะณะฐััััั ะบะฐะฒะฐ?</b>
ะฃ ะทะฐะบัะธััะน ัะฟะฐะบะพะฒัั - ะดะพ 6 ะผัััััะฒ.
ะััะปั ัะพะทะบัะธััั - 2-3 ัะธะถะฝั ะดะปั ะฝะฐะนะบัะฐัะพะณะพ ัะผะฐะบั.

<b>ะฏะบะฐ ะดะฐัะฐ ะพะฑัะผะฐะถะตะฝะฝั?</b>
ะะฐะฒะฐ ะพะฑัะผะฐะถัััััั ะฟัะด ะทะฐะผะพะฒะปะตะฝะฝั.
ะะฐัะฐ ะพะฑัะผะฐะถะตะฝะฝั ะทะฐะฒะถะดะธ ะฒะบะฐะทะฐะฝะฐ ะฝะฐ ัะฟะฐะบะพะฒัั.

<b>ะฏะบ ะพัะพัะผะธัะธ ะฟะพะฒะตัะฝะตะฝะฝั?</b>
ะะฐะฟะธัััั ะฝะฐะผ ะฟัะพััะณะพะผ 14 ะดะฝัะฒ ะท ะผะพะผะตะฝัั ะพััะธะผะฐะฝะฝั.
ะะธ ะพะฑะพะฒ'ัะทะบะพะฒะพ ะฒะธัััะธะผะพ ะฑัะดั-ัะบั ะฟัะพะฑะปะตะผั!

<b>ะ ะฟะธัะฐะฝะฝั ัะพะดะพ ะฟัะธะณะพััะฒะฐะฝะฝั?</b>
ะกะบะพัะธััะฐะนัะตัั ัะพะทะดัะปะพะผ "โ ะะตัะตะฟัะธ" ะฒ ะณะพะปะพะฒะฝะพะผั ะผะตะฝั.

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ก <b>ะจะฒะธะดะบะฐ ะดะพะฟะพะผะพะณะฐ:</b>

ะะปั ะฝะฐะนัะฒะธะดัะพั ะฒัะดะฟะพะฒัะดั ะฝะฐะฟะธัััั ะฝะฐะผ ะฒ Telegram:
@AndriyKhomenko

ะะฐัะฐ ะบะพะผะฐะฝะดะฐ ะฒัะดะฟะพะฒัััั ะฟัะพััะณะพะผ 1-3 ะณะพะดะธะฝ
ั ัะพะฑะพัะธะน ัะฐั.
"""
    
    builder = InlineKeyboardBuilder()
    builder.row(InlineKeyboardButton(text="โ ะะพะปะพะฒะฝะต ะผะตะฝั", callback_data="start"))
    
    if isinstance(event, Message):
        if MODULE_SUPPORT.exists():
            photo = FSInputFile(MODULE_SUPPORT)
            await message.answer_photo(photo, caption=text, reply_markup=builder.as_markup(), parse_mode="HTML")
        else:
            await message.answer(text, reply_markup=builder.as_markup(), parse_mode="HTML")
    else:
        await message.delete()
        if MODULE_SUPPORT.exists():
            photo = FSInputFile(MODULE_SUPPORT)
            await message.answer_photo(photo, caption=text, reply_markup=builder.as_markup(), parse_mode="HTML")
        else:
            await message.answer(text, reply_markup=builder.as_markup(), parse_mode="HTML")
        await event.answer()


@router.message(F.text == "ะัะพ ะฝะฐั")
@router.callback_query(F.data == "about_us")
async def show_about_us(event: Message | CallbackQuery):
    """Show about us information."""
    if isinstance(event, Message):
        message = event
    else:
        message = event.message
    text = """
โซ <b>Monkeys Coffee Roasters</b> ๐

<b>ะฅัะพ ะผะธ?</b>
ะะธ ะฑะฐะฝะดะฐ ัะฐะฝะฐััะฒ ะบะฐะฒะธ, ัะบั ะฒัะพะผะธะปะธัั ะฒัะด ะฟะพะณะฐะฝะพะณะพ ะตัะฟัะตัะพ ั ะฒะธัััะธะปะธ ัะพะฑะธัะธ ัะฒะพั. ะะพัะฐะปะธ ั 2020 ัะพัั ะท ะผะฐะปะตะฝัะบะพะณะพ ัะพััะตัะฐ ะฒ ะณะฐัะฐะถั (ะบะปะฐัะธะบะฐ!), ะฐ ะทะฐัะฐะท ัะผะฐะถะธะผะพ ัะพะฝะฝะธ ะทะตัะฝะฐ ั ะบะฐะนัััะผะพ ะฒัะด ััะพะณะพ.

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>๐ ะะฐั ะะฐะนะฑ</b>

โจ <b>ะขัะปัะบะธ ัะฟะตัะตะปัั</b>
ะััะบะพะณะพ ะบะพะผะตัััะนะฝะพะณะพ ะผะพัะปะพัั. ะขัะปัะบะธ ะทะตัะฝะพ ะท ะพััะฝะบะพั 80+ ะฑะฐะปัะฒ. ะฏะบัะพ ะฝะฐะผ ะฝะต ัะผะฐัะฝะพ โ ะผะธ ัะต ะฝะต ะฟัะพะดะฐัะผะพ.

๐ฑ <b>ะะฝะฐัะผะพ, ะทะฒัะดะบะธ ะฝะพะณะธ ัะพััััั</b>
ะัะฟััะผะพ ะบะฐะฒั ะฝะฐะฟััะผั ะฐะฑะพ ัะตัะตะท ะฟะตัะตะฒััะตะฝะธั ััะตะนะดะตััะฒ. ะะฝะฐัะผะพ ัะตัะผะตััะฒ, ัั ัะพะฑะฐะบ ั ัะบ ะทะฒะฐะปะธ ะบะพัะฐ ะฝะฐ ััะฐะฝััั ะพะฑัะพะฑะบะธ.

โป๏ธ <b>ะะบะพ-ัะผะตะบะพ</b>
ะะฐะบัะฒะฐะฝะฝั, ัะบะต ะฝะต ะฒะฑะธะฒะฐั ะฟัะธัะพะดั. ะะตะปะพะดะพััะฐะฒะบะฐ ะฟะพ ัะฐะนะพะฝั (ะฝั ะผะฐะนะถะต).

๐ <b>ะะต ััะปัะบะธ ะฟะธัะธ, ะฐ ะน ะทะฝะฐัะธ</b>
ะัะพะฒะพะดะธะผะพ ะบะฐะฟะฟัะฝะณะธ, ะฒัะธะผะพ ะฒะฐัะธัะธ ั ัะพะทะฟะพะฒัะดะฐัะผะพ, ัะพะผั "ะบะธัะปะฐ ะบะฐะฒะฐ" โ ัะต ะฝะฐัะฟัะฐะฒะดั ะบัััะพ.

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>๐ ะงะธะผ ะฟะธัะฐัะผะพัั</b>
โข ะกะผะฐะถะธะปะธ ะฝะฐ Ukrainian Coffee Cup
โข ะะฐัะผะพ ะบัะฟั ะดััะทัะฒ-ะบะฐะฒ'ััะตะฝั ะฟะพ ะฒััะน ะบัะฐัะฝั
โข ะขะธัััั ะปัะดะตะน ะฟัะพะบะธะดะฐััััั ะท ะฝะฐัะพั ะฟะฐัะบะพั (ัะต ะฒัะดะฟะพะฒัะดะฐะปัะฝัััั!)

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>โ ะฏะบ ะผะธ ัะผะฐะถะธะผะพ</b>
ะะฐั ัะพััะตั Giesen W6A โ ัะต ัะบ Ferrari ะฒ ัะฒััั ะบะฐะฒะธ. ะะพะผะฟ'ััะตัะฝะธะน ะบะพะฝััะพะปั ะฟัะพััะปั, ะฐะปะต ััะฝะฐะปัะฝะต ัััะตะฝะฝั ะทะฐะฒะถะดะธ ะทะฐ ะปัะดะธะฝะพั (ั ัั ะฝะพัะพะผ). ะกะผะฐะถะธะผะพ ัะฐะบ, ัะพะฑ ัะพะทะบัะธัะธ "ะดััั" ะทะตัะฝะฐ, ะฐ ะฝะต ะฟะตัะตัะฒะพัะธัะธ ะนะพะณะพ ะฝะฐ ะฒัะณัะปะปั.

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>๐ฅ ะัะดั ะท ะฝะฐะผะธ</b>

Instagram: https://www.instagram.com/monkeyscoffeeroaster/ (ัะฐะผ ะบัะฐัะธะฒะพ)
TikTok: @monkeyscoffee (ัะฐะผ ัะผััะฝะพ)

ะัะธะฒะฐะนัั ะฒ ัััะพะฒะบั! ๐โ
"""
    
    if isinstance(event, Message):
        if MODULE_ABOUT_US.exists():
            photo = FSInputFile(MODULE_ABOUT_US)
            await message.answer_photo(photo, caption=text, parse_mode="HTML")
        else:
            await message.answer(text, parse_mode="HTML")
    else:
        await message.delete()
        if MODULE_ABOUT_US.exists():
            photo = FSInputFile(MODULE_ABOUT_US)
            await message.answer_photo(photo, caption=text, parse_mode="HTML")
        else:
            await message.answer(text, parse_mode="HTML")
        await event.answer()


@router.message(F.text == "ะะตัะตะฟัะธ")
@router.callback_query(F.data.in_({"recipes_menu", "back_to_recipes"}))
async def show_recipes_menu(event: Message | CallbackQuery):
    """Show brewing recipes menu."""
    if isinstance(event, Message):
        message = event
    else:
        message = event.message
    from aiogram.utils.keyboard import InlineKeyboardBuilder
    from aiogram.types import InlineKeyboardButton
    
    text = """
๐ด <b>ะะฐะฒะพะฒะฐ ะะฐะฑะพัะฐัะพััั</b> ๐

ะขัั ะผะธ ะทัะฑัะฐะปะธ ัะตัะตะฟัะธ, ัะบั ัะตะฐะปัะฝะพ ะฟัะฐััััั.
ะััะบะพั ะผะฐะณัั, ััะปัะบะธ ััะทะธะบะฐ ั ััะพัะธ ะปัะฑะพะฒั.

ะัั ัะตัะตะฟัะธ ัะพะทัะฐัะพะฒะฐะฝั ะฝะฐ <b>ะพะดะฝั ะฟะพัััั</b> (200-300 ะผะป), ะฑะพ ะบะฐะฒั ััะตะฑะฐ ะฟะธัะธ ัะฒัะถะพั.

ะะฑะธัะฐะน ัะฒัะน ะดะตะฒะฐะนั ั ะฟะพะณะฝะฐะปะธ ะฒะฐัะธัะธ! ๐
"""
    
    builder = InlineKeyboardBuilder()
    
    builder.row(InlineKeyboardButton(
        text="โ V60 / ะััะพะฒะตั",
        callback_data="recipe_v60"
    ))
    
    builder.row(InlineKeyboardButton(
        text="โ ะะฐะฒะฐััะฒะฐะฝะฝั ะฒ ัะฐััั",
        callback_data="recipe_cup"
    ))
    
    builder.row(InlineKeyboardButton(
        text="โ ะะตัะพะฟัะตั",
        callback_data="recipe_aeropress"
    ))
    
    builder.row(InlineKeyboardButton(
        text="โ ะคัะตะฝั-ะฟัะตั",
        callback_data="recipe_french_press"
    ))
    
    builder.row(InlineKeyboardButton(
        text="โ ะะตะผะตะบั",
        callback_data="recipe_chemex"
    ))
    
    builder.row(InlineKeyboardButton(
        text="โ ะะพะบะฐ (ะะตะนะทะตัะฝะฐ)",
        callback_data="recipe_moka"
    ))
    
    builder.row(InlineKeyboardButton(
        text="โ ะขััะบะฐ",
        callback_data="recipe_turka"
    ))
    
    builder.row(InlineKeyboardButton(
        text="โ๏ธ Cold Brew",
        callback_data="recipe_cold_brew"
    ))
    
    builder.row(InlineKeyboardButton(
        text="๐ Hario Switch",
        callback_data="recipe_hario_switch"
    ))
    
    builder.row(InlineKeyboardButton(
        text="โ๏ธ ะัะด ะฟะพ ะฟะพะผะตะปั",
        callback_data="recipe_grind_guide"
    ))
    
    builder.row(InlineKeyboardButton(
        text="๐ ะัะฝะพะฒะธ ะฟัะธะณะพััะฒะฐะฝะฝั",
        callback_data="recipe_basics"
    ))
    
    if isinstance(event, Message):
        if MODULE_RECIPES.exists():
            photo = FSInputFile(MODULE_RECIPES)
            await message.answer_photo(photo, caption=text, reply_markup=builder.as_markup(), parse_mode="HTML")
        else:
            await message.answer(text, reply_markup=builder.as_markup(), parse_mode="HTML")
    else:
        await message.delete()
        if MODULE_RECIPES.exists():
            photo = FSInputFile(MODULE_RECIPES)
            await message.answer_photo(photo, caption=text, reply_markup=builder.as_markup(), parse_mode="HTML")
        else:
            await message.answer(text, reply_markup=builder.as_markup(), parse_mode="HTML")
        await event.answer()


async def _edit_message_safe(callback: CallbackQuery, text: str, reply_markup=None, parse_mode: str = "HTML"):
    """Safely edit message, handling photo messages."""
    try:
        await callback.message.edit_text(text, reply_markup=reply_markup, parse_mode=parse_mode)
    except Exception:
        # If edit fails (e.g., photo message), delete and send new message
        try:
            await callback.message.delete()
        except Exception:
            pass
        await callback.message.answer(text, reply_markup=reply_markup, parse_mode=parse_mode)


@router.callback_query(F.data == "recipe_grind_guide")
async def show_grind_guide(callback: CallbackQuery):
    """Show detailed grind guide."""
    text = """
<b>โ๏ธ ะัะด ะฟะพ ะฟะพะผะตะปั: ะัะด ะฟะธะปั ะดะพ ะบะฐะผัะฝะฝั</b>

ะะพะผะตะป โ ัะต ัะฒะพั ะณะพะปะพะฒะฝะฐ ััะฟะตััะธะปะฐ. ะะผัะฝัััะธ ะนะพะณะพ, ัะธ ะบะตัััั ัะฒะธะดะบัััั ะตะบัััะฐะบััั.

๐ธ <b>ะะฐะดะดััะฑะฝะธะน (Extra Fine)</b>
โข ะกัะพะถะธะน ะฝะฐ: ะฆัะบัะพะฒั ะฟัะดัั / ะผัะบั.
โข ะะปั ัะพะณะพ: <b>ะขััะบะฐ (ะะถะตะทะฒะฐ).</b> ะะฐั ะฑััะธ ัะบ ะฟะธะป, ัะพะฑ ััะฒะพัะธัะธ ะณัััั ะฟัะฝั.

๐น <b>ะััะฑะฝะธะน (Fine)</b>
โข ะกัะพะถะธะน ะฝะฐ: ะััะฑะฝั ััะปั.
โข ะะปั ัะพะณะพ: <b>ะัะฟัะตัะพ.</b> ะะฟัั ะฒะพะดะธ ะผะฐั ะฑััะธ ัะฐะบะธะผ, ัะพะฑ ัะฐัะบะฐ ะทะฒะฐัะธะปะฐัั ะทะฐ 25-30 ัะตะบ.

๐ธ <b>ะกะตัะตะดะฝัะพ-ะดััะฑะฝะธะน (Medium-Fine)</b>
โข ะกัะพะถะธะน ะฝะฐ: ะฆัะบะพั-ะฟััะพะบ.
โข ะะปั ัะพะณะพ: <b>ะะตัะพะฟัะตั, ะะพะบะฐ (ะะตะนะทะตั).</b> ะะพะปะพัะฐ ัะตัะตะดะธะฝะฐ.

๐น <b>ะกะตัะตะดะฝัะน (Medium)</b>
โข ะกัะพะถะธะน ะฝะฐ: ะะพัะตัะฝั ัะตะปั.
โข ะะปั ัะพะณะพ: <b>ะััะพะฒะตั (V60), ะัะฐะฟะตะปัะฝะฐ ะบะฐะฒะพะฒะฐัะบะฐ.</b> ะะพะดะฐ ะผะฐั ะฒัะปัะฝะพ ะฟัะพัะพะดะธัะธ, ะฐะปะต ะฒััะธะณะฐัะธ ะทะฐะฑะธัะฐัะธ ัะผะฐะบ.

๐ธ <b>ะกะตัะตะดะฝัะพ-ะณััะฑะธะน (Medium-Coarse)</b>
โข ะกัะพะถะธะน ะฝะฐ: ะััะฟะฝั ะผะพัััะบั ัะตะปั.
โข ะะปั ัะพะณะพ: <b>ะะตะผะตะบั.</b> ะงะตัะตะท ัะพะฒััะธะน ะฟะฐะฟัั ะฒะพะดะฐ ะฟัะพัะพะดะธัั ะฟะพะฒัะปัะฝััะต, ัะพะผั ะฟะพะผะตะป ัะพะฑะธะผะพ ะบััะฟะฝััะธะผ.

๐น <b>ะััะฑะธะน (Coarse)</b>
โข ะกัะพะถะธะน ะฝะฐ: ะะฐะฝัััะฒะฐะปัะฝั ัััะฐัั.
โข ะะปั ัะพะณะพ: <b>ะคัะตะฝั-ะฟัะตั, Cold Brew.</b> ะะพะฒะณะธะน ะบะพะฝัะฐะบั ะบะฐะฒะธ ะท ะฒะพะดะพั ะฟะพััะตะฑัั ะฒะตะปะธะบะพั ััะฐะบััั.

๐ก <i>ะะพัะฐะดะฐ: ะะฐะฒะถะดะธ ะผะตะปะธ ะบะฐะฒั ะฑะตะทะฟะพัะตัะตะดะฝัะพ ะฟะตัะตะด ะทะฐะฒะฐััะฒะฐะฝะฝัะผ. ะะถะต ะทะฐ 15 ัะฒะธะปะธะฝ ะฟััะปั ะฟะพะผะตะปั ะบะฐะฒะฐ ะฒััะฐัะฐั ะดะพ 60% ัะฒะพะณะพ ะฐัะพะผะฐัั!</i>
"""
    builder = InlineKeyboardBuilder()
    builder.row(InlineKeyboardButton(text="โ ะะฐะทะฐะด ะดะพ ัะตัะตะฟััะฒ", callback_data="back_to_recipes"))
    
    await _edit_message_safe(callback, text, builder.as_markup())
    await callback.answer()


@router.callback_query(F.data == "recipe_v60")
async def show_v60_recipe(callback: CallbackQuery):
    """Show V60 brewing recipe."""
    text = """
<b>โ V60 / ะััะพะฒะตั</b>

<b>ะฉะพ ะฟะพัััะฑะฝะพ:</b>
โข ะัะธะฟะตั V60
โข ะะฐะฟะตัะพะฒะธะน ััะปััั
โข 15ะณ ะบะฐะฒะธ (ัะตัะตะดะฝัะพะณะพ ะฟะพะผะตะปั)
โข 250ะผะป ะฒะพะดะธ (93-96ยฐC)
โข ะะฐะณะธ
โข ะขะฐะนะผะตั

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>ะะตัะตะฟั:</b>

<b>1. ะัะดะณะพัะพะฒะบะฐ (0:00)</b>
   ะัะพะผะธะนัะต ััะปััั ะณะฐัััะพั ะฒะพะดะพั
   ะะธัะธะฟัะต ะบะฐะฒั ัะฐ ะทัะพะฑััั ะปัะฝะบั ะฒ ัะตะฝััั

<b>2. ะะปัะผ (0:00-0:45)</b>
   ะะฐะปะธะนัะต 30-40ะผะป ะฒะพะดะธ
   ะะบััะฐัะฝะพ ะฟะตัะตะผััะฐะนัะต
   ะะพัะตะบะฐะนัะต 30-45 ัะตะบัะฝะด

<b>3. ะะตััะฐ ะปะธะนะบะฐ (0:45-1:15)</b>
   ะะฐะปะธะฒะฐะนัะต ะฟะพ ะบะพะปั ะดะพ 100ะผะป
   ะะพะฒัะปัะฝะพ, ัะพะฝะบะธะผ ััััะผะตะฝะตะผ

<b>4. ะััะณะฐ ะปะธะนะบะฐ (1:15-1:45)</b>
   ะะพะฒะตะดััั ะดะพ 180ะผะป
   ะัะพะดะพะฒะถัะนัะต ะบัััะพะฒั ัััะธ

<b>5. ะััะฐะฝะฝั ะปะธะนะบะฐ (1:45-2:00)</b>
   ะะพะปะธะนัะต ะดะพ 250ะผะป ะทะฐะณะฐะปะพะผ

<b>6. ะะฐะฒะตััะตะฝะฝั (2:00-2:30)</b>
   ะะพัะตะบะฐะนัะตัั ะฟะพะฒะฝะพะณะพ ะฟัะพะปะธะฒั
   ะะฐะณะฐะปัะฝะธะน ัะฐั: 2:30-3:00

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>๐ก ะะพัะฐะดะธ:</b>

โข ะะฐะฝะฐะดัะพ ะณััะบะพ? โ ะััะฟะฝััะธะน ะฟะพะผะตะป
โข ะะฐะฝะฐะดัะพ ะบะธัะปะพ? โ ะััะฑะฝััะธะน ะฟะพะผะตะป
โข ะัะพะปะธะฒะฐััััั ัะฒะธะดะบะพ? โ ะััะฑะฝััะต
โข ะัะพะปะธะฒะฐััััั ะดะพะฒะณะพ? โ ะััะฟะฝััะต

<b>ะกะผะฐัะฝะพั ะบะฐะฒะธ! โ</b>
"""
    
    builder = InlineKeyboardBuilder()
    builder.row(InlineKeyboardButton(text="โ ะะฐะทะฐะด ะดะพ ัะตัะตะฟััะฒ", callback_data="back_to_recipes"))
    
    await _edit_message_safe(callback, text, builder.as_markup())
    await callback.answer()


@router.callback_query(F.data == "recipe_cup")
async def show_cup_recipe(callback: CallbackQuery):
    """Show cup brewing recipe."""
    text = """
<b>โ ะะฐะฒะฐััะฒะฐะฝะฝั ะฒ ัะฐััั</b>

ะะฐะนะฟัะพััััะธะน ั ะฝะฐะนัะฒะธะดัะธะน ัะฟะพััะฑ ะฟัะธะณะพััะฒะฐัะธ ะบะฐะฒั! 
ะะดะตะฐะปัะฝะพ ะดะปั ะพัััั, ะฟะพะดะพัะพะถะตะน ะฐะฑะพ ะบะพะปะธ ะฝะตะผะฐั ะพะฑะปะฐะดะฝะฐะฝะฝั.

<b>ะฉะพ ะฟะพัััะฑะฝะพ:</b>
โข ะะฒะธัะฐะนะฝะฐ ัะฐัะบะฐ (250-300ะผะป)
โข 15-18ะณ ะบะฐะฒะธ (ัะตัะตะดะฝัะพะณะพ ะฟะพะผะตะปั)
โข 250ะผะป ะณะฐัััะพั ะฒะพะดะธ (93-96ยฐC)
โข ะะพะถะบะฐ
โข ะคัะปััั (ะฐะฑะพ ัะตัะฒะตัะบะฐ)

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>ะะตัะตะฟั (ะผะตัะพะด " ัะตัะตะท ััะปััั"):</b>

<b>1. ะัะดะณะพัะพะฒะบะฐ (0:00)</b>
   ะะพะบะปะฐะดััั ััะปััั/ัะตัะฒะตัะบั ะฒ ัะฐัะบั
   ะะปะตะณะบะฐ ะทะผะพัััั ะณะฐัััะพั ะฒะพะดะพั
   ะะธัะธะฟัะต ะบะฐะฒั ั ััะปััั

<b>2. ะะปัะผ (0:00-0:30)</b>
   ะะฐะปะธะนัะต 30-40ะผะป ะฒะพะดะธ
   ะะพัะตะบะฐะนัะต 30 ัะตะบัะฝะด

<b>3. ะะฐะปะธะฒะบะฐ (0:30-1:00)</b>
   ะะพะฒัะปัะฝะพ ะดะพะปะธะนัะต ะฒะพะดั ะดะพ 250ะผะป
   ะะพ ะบะพะปั

<b>4. ะะฐะฒะตััะตะฝะฝั (1:00-2:00)</b>
   ะะพัะตะบะฐะนัะตัั ะฟะพะบะธ ะฒะพะดะฐ ััะตัะต
   ะะธะนะผััั ััะปััั

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>ะะปััะตัะฝะฐัะธะฒะฝะธะน ะผะตัะพะด (ะฑะตะท ััะปัััะฐ):</b>

<b>1. ะะฐะฒะฐ ะฒ ัะฐัะบั</b>
   15-18ะณ ะผะตะปะตะฝะพั ะบะฐะฒะธ
   
<b>2. ะะฐะปะธะฒะฐัะผะพ</b>
   ะะฐัััะฐ ะฒะพะดะฐ (93-96ยฐC)
   ะะพะฒัะปัะฝะพ, ะฟะพ ะบะพะปั
   
<b>3. ะะตัะตะผััััะผะพ</b>
   ะงะตัะตะท 1 ัะฒะธะปะธะฝั ะฟะตัะตะผััะฐะนัะต
   ะะพัะตะบะฐะนัะต ัะต 2-3 ัะฒะธะปะธะฝะธ
   
<b>4. ะคัะปัััััะผะพ</b>
   ะงะตัะตะท ัะตัะฒะตัะบั ะฐะฑะพ ะบะฐะฒะพะฒะธะน ััะปััั
   ะะฑะพ ะฟัะพััะพ ะดะฐะนัะต ะพััััะธ ะณััั

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>๐ฏ ะัะพะฟะพัััั:</b>

<b>ะกัะฐะฝะดะฐัั:</b>
15ะณ : 250ะผะป (1:16)

<b>ะััะฝััะต:</b>
18ะณ : 250ะผะป (1:14)

<b>ะะตะณัะต:</b>
12ะณ : 250ะผะป (1:20)

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>๐ก ะะพัะฐะดะธ:</b>

<b>ะะพะผะตะป:</b>
ะกะตัะตะดะฝัะน - ัะบ ะดะปั ะฟััะพะฒะตัะฐ
ะะฐะฝะฐะดัะพ ะดััะฑะฝะธะน โ ะบะฐะปะฐะผััะฝะฐ
ะะฐะฝะฐะดัะพ ะณััะฑะธะน โ ะฒะพะดัะฝะธััะฐ

<b>ะงะฐั:</b>
ะะต ะทะฐะฒะฐััะนัะต ะดะพะฒะณะพ - 3-4 ัะฒะธะปะธะฝะธ ะดะพััะฐัะฝัะพ
ะะพะฒัะต = ะณัััะต

<b>ะคัะปััััะฒะฐะฝะฝั:</b>
ะะฑะพะฒ'ัะทะบะพะฒะพ ะฒัะดะพะบัะตะผัะต ะณััั!
ะะธะบะพัะธััะพะฒัะนัะต ะฟะฐะฟะตัะพะฒะธะน ััะปััั ะฐะฑะพ ัะตัะฒะตัะบั

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>โ ะะตัะตะฒะฐะณะธ ะผะตัะพะดั:</b>

โ ะะต ะฟะพัััะฑะฝะต ะพะฑะปะฐะดะฝะฐะฝะฝั
โ ะจะฒะธะดะบะพ (3-5 ัะฒะธะปะธะฝ)
โ ะะตะณะบะพ ะผะธัะธ
โ ะงัะดะพะฒะธะน ัะตะทัะปััะฐั
โ ะะดะตะฐะปัะฝะพ ะดะปั ะฟะพะดะพัะพะถะตะน

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>โ ะะพะผะธะปะบะธ:</b>

โข ะะฐะฝะฐะดัะพ ะดััะฑะฝะธะน ะฟะพะผะตะป โ ะณััะฐ ะฒ ัะฐััั
โข ะะฐัััะฐ ะฒะพะดะฐ โ ะณััะบะฐ ะบะฐะฒะฐ  
โข ะะพะฒะณะต ะทะฐะฒะฐััะฒะฐะฝะฝั โ ะฟะตัะตะตะบัััะฐะบััั
โข ะะตะท ััะปัััะฐััั โ ะทะตัะฝะฐ ะฒ ัะฐััั

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>ะะฐััะฐััั:</b>

<b>ะ ะผะพะปะพะบะพะผ:</b>
ะะฐะปะธัััั ะผัััะต ะดะปั ะผะพะปะพะบะฐ (50-100ะผะป)

<b>ะััะฝะธะน:</b>
ะะพะดะฐะนัะต ะบะพัะธัั ะฐะฑะพ ะบะฐัะดะฐะผะพะฝ

<b>ะฆัะบัะพะฒะธะน:</b>
ะะพะดะฐะนัะต ััะบะพั ะฟะตัะตะด ะทะฐะปะธะฒะบะพั

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>ะกะผะฐัะฝะพั ะบะฐะฒะธ! โ</b>
"""
    
    builder = InlineKeyboardBuilder()
    builder.row(InlineKeyboardButton(text="โ ะะฐะทะฐะด ะดะพ ัะตัะตะฟััะฒ", callback_data="back_to_recipes"))
    
    await _edit_message_safe(callback, text, builder.as_markup())
    await callback.answer()


@router.callback_query(F.data == "recipe_aeropress")
async def show_aeropress_recipe(callback: CallbackQuery):
    """Show Aeropress brewing recipe."""
    text = """
<b>โ ะะตัะพะฟัะตั (ะผะตัะพะด ัะฝะฒะตัััั)</b>

<b>ะฉะพ ะฟะพัััะฑะฝะพ:</b>
โข Aeropress
โข ะะฐะฟะตัะพะฒะธะน ััะปััั
โข 15ะณ ะบะฐะฒะธ (ัะตัะตะดะฝัะพ-ะดััะฑะฝะพะณะพ ะฟะพะผะตะปั)
โข 220ะผะป ะฒะพะดะธ (85-90ยฐC)
โข ะะฐะณะธ, ัะฐะนะผะตั

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>ะะตัะตะฟั:</b>

<b>1. ะัะดะณะพัะพะฒะบะฐ (0:00)</b>
   ะะฑะตัััั ะฐะตัะพะฟัะตั ะดะพะณะพัะธ ะดะฝะพะผ (ัะฝะฒะตัััั)
   ะะธัะธะฟัะต ะบะฐะฒั

<b>2. ะะฐะฒะฐััะฒะฐะฝะฝั (0:00-0:10)</b>
   ะะฐะปะธะนัะต ะฒัั ะฒะพะดั (220ะผะป)
   ะจะฒะธะดะบะพ ะฟะตัะตะผััะฐะนัะต 2-3 ัะฐะทะธ

<b>3. ะะฐะผะพััะฒะฐะฝะฝั (0:10-1:30)</b>
   ะะฐะบัะธะนัะต ะบัะธัะบะพั ะท ััะปัััะพะผ
   ะะพัะตะบะฐะนัะต 1:20

<b>4. ะะตัะตะฒะตัะฝััั (1:30)</b>
   ะะพััะฐะฒัะต ัะฐัะบั ะทะฒะตััั
   ะจะฒะธะดะบะพ, ะฐะปะต ะพะฑะตัะตะถะฝะพ ะฟะตัะตะฒะตัะฝััั

<b>5. ะะปัะฝะถะตั (1:30-2:00)</b>
   ะะฐัะธัะบะฐะนัะต ะฟะปะฐะฒะฝะพ 30 ัะตะบัะฝะด
   ะัะฟะธะฝััััั, ะฟะพััะฒัะธ ัะธะฟัะฝะฝั

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>๐ก ะะฐััะฐััั:</b>

<b>ะัะปัั ะผััะฝะพ:</b>
17ะณ ะบะฐะฒะธ / 200ะผะป ะฒะพะดะธ / 2:00 ะตะบัััะฐะบััั

<b>ะะตะณัะต:</b>
13ะณ ะบะฐะฒะธ / 240ะผะป ะฒะพะดะธ / 1:00 ะตะบัััะฐะบััั

<b>ะฅะพะปะพะดะฝะฐ ะตะบัััะฐะบััั (ะบะพะปะด ะฑัั):</b>
20ะณ ะบะฐะฒะธ / 200ะผะป ัะพะปะพะดะฝะพั ะฒะพะดะธ
ะะฐััะพัะฒะฐัะธ 12-24 ะณะพะด ะฒ ัะพะปะพะดะธะปัะฝะธะบั

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>๐ฏ ะะตัะตะฒะฐะณะธ ะฐะตัะพะฟัะตัั:</b>
โข ะจะฒะธะดะบะพ (2 ัะฒ)
โข ะะตะณะบะพ ะผะธัะธ
โข ะะพะผะฟะฐะบัะฝะธะน
โข ะงะธััะธะน ัะผะฐะบ

<b>ะะฐัะพะปะพะดะถัะนัะตัั! โ</b>
"""
    
    builder = InlineKeyboardBuilder()
    builder.row(InlineKeyboardButton(text="โ ะะฐะทะฐะด ะดะพ ัะตัะตะฟััะฒ", callback_data="back_to_recipes"))
    
    await _edit_message_safe(callback, text, builder.as_markup())
    await callback.answer()


@router.callback_query(F.data == "recipe_french_press")
async def show_french_press_recipe(callback: CallbackQuery):
    """Show French Press brewing recipe."""
    text = """
<b>โ ะคัะตะฝั-ะฟัะตั</b>

<b>ะฉะพ ะฟะพัััะฑะฝะพ:</b>
โข ะคัะตะฝั-ะฟัะตั (350ะผะป)
โข 21ะณ ะบะฐะฒะธ (ะณััะฑะพะณะพ ะฟะพะผะตะปั)
โข 350ะผะป ะฒะพะดะธ (93-96ยฐC)
โข ะะฐะณะธ, ัะฐะนะผะตั

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>ะะตัะตะฟั:</b>

<b>1. ะัะดะณะพัะพะฒะบะฐ (0:00)</b>
   ะะพะฟะตัะตะดะฝัะพ ะฟัะพะณััะนัะต ััะตะฝั-ะฟัะตั
   ะะธัะธะฟัะต ะบะฐะฒั

<b>2. ะะฐะปะธะฒะบะฐ (0:00-0:10)</b>
   ะะฐะปะธะนัะต ะฒัั ะฒะพะดั (350ะผะป)
   ะะตะณะบะพ ะฟะตัะตะผััะฐะนัะต

<b>3. ะะฐััะพัะฒะฐะฝะฝั (0:10-4:00)</b>
   ะะฐะบัะธะนัะต ะบัะธัะบะพั (ะฝะต ะฟัะธัะธัะบะฐะนัะต!)
   ะงะตะบะฐะนัะต 4 ัะฒะธะปะธะฝะธ

<b>4. ะะตัะตะผัััะฒะฐะฝะฝั (4:00)</b>
   ะะฝัะผััั ะฟัะฝะบั ะปะพะถะบะพั
   ะะฑะพ ะปะตะณะบะพ ะฟะตัะตะผััะฐะนัะต

<b>5. ะะปัะฝะถะตั (4:15)</b>
   ะะพะฒัะปัะฝะพ ะพะฟัััััั ะฟะปัะฝะถะตั
   ะะต ะฟัะธัะธัะบะฐะนัะต ัะธะปัะฝะพ!

<b>6. ะะพะดะฐัะฐ (4:30)</b>
   ะะดัะฐะทั ะฟะตัะตะปะธะนัะต ะฒ ัะฐัะบั
   ะะต ะทะฐะปะธัะฐะนัะต ะฒ ััะตะฝั-ะฟัะตัั!

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>๐ก ะกะตะบัะตัะธ ัะดะตะฐะปัะฝะพะณะพ ัะผะฐะบั:</b>

<b>ะัะฐะฒะธะปัะฝะธะน ะฟะพะผะตะป:</b>
ะะฐั ะฑััะธ ัะบ ะผะพัััะบะฐ ัะตะปั ะณััะฑะพะณะพ ะฟะพะผะตะปั.
ะะฐะฝะฐะดัะพ ะดััะฑะฝะธะน โ ะณััะบะพัะฐ ัะฐ ะพัะฐะด

<b>ะขะตะผะฟะตัะฐัััะฐ:</b>
ะขะตะผะฝััะต ะพะฑัะผะฐะถะตะฝะฝั โ 90-93ยฐC
ะกะฒััะปะต ะพะฑัะผะฐะถะตะฝะฝั โ 93-96ยฐC

<b>ะงะฐั:</b>
ะะตะณะบะต ััะปะพ โ 3 ัะฒะธะปะธะฝะธ
ะะปะฐัะธะบะฐ โ 4 ัะฒะธะปะธะฝะธ
ะะฐัะธัะตะฝะต โ 5 ัะฒะธะปะธะฝ

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>โ ะขะธะฟะพะฒั ะฟะพะผะธะปะบะธ:</b>

โข ะััะฑะฝะธะน ะฟะพะผะตะป โ ะณััะบะฐ, ะผัะปะธััะฐ ะบะฐะฒะฐ
โข ะะพะฒะณะฐ ะตะบัััะฐะบััั โ ะฟะตัะตะตะบัััะฐะบััั
โข ะกะธะปัะฝะต ะฟัะธัะธัะบะฐะฝะฝั โ ะณััะบะพัะฐ
โข ะะฐะปะธัะธะปะธ ะฒ ะฟัะตัั โ ะฟัะพะดะพะฒะถัั ะทะฐะฒะฐััะฒะฐัะธัั

<b>ะกะผะฐัะฝะพะณะพ! โ</b>
"""
    
    builder = InlineKeyboardBuilder()
    builder.row(InlineKeyboardButton(text="โ ะะฐะทะฐะด ะดะพ ัะตัะตะฟััะฒ", callback_data="back_to_recipes"))
    
    await _edit_message_safe(callback, text, builder.as_markup())
    await callback.answer()


@router.callback_query(F.data == "recipe_chemex")
async def show_chemex_recipe(callback: CallbackQuery):
    """Show Chemex brewing recipe."""
    text = """
<b>โ ะะตะผะตะบั</b>

<b>ะฉะพ ะฟะพัััะฑะฝะพ:</b>
โข Chemex (6 ัะฐัะพะบ)
โข ะคัะปััั Chemex
โข 30ะณ ะบะฐะฒะธ (ัะตัะตะดะฝัะพะณะพ ะฟะพะผะตะปั)
โข 500ะผะป ะฒะพะดะธ (93-96ยฐC)
โข ะะฐะณะธ, ัะฐะนะผะตั

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>ะะตัะตะฟั:</b>

<b>1. ะัะดะณะพัะพะฒะบะฐ (0:00)</b>
   ะััะฐะฒัะต ััะปััั (ัะพะฒััะพั ััะพัะพะฝะพั ะดะพ ะฝะพัะธะบะฐ)
   ะัะพะผะธะนัะต ะณะฐัััะพั ะฒะพะดะพั
   ะะธัะธะฟัะต ะบะฐะฒั, ะทัะพะฑััั ะปัะฝะบั

<b>2. ะะปัะผ (0:00-0:45)</b>
   ะะฐะปะธะนัะต 60ะผะป ะฒะพะดะธ
   ะะตัะตะผััะฐะนัะต 2-3 ัะฐะทะธ
   ะงะตะบะฐะนัะต 45 ัะตะบัะฝะด

<b>3. ะะตััะฐ ะปะธะนะบะฐ (0:45-1:15)</b>
   ะะพะฒัะปัะฝะพ ะดะพะปะธะนัะต ะดะพ 200ะผะป
   ะะพ ะบะพะปั ะฒัะด ัะตะฝััั

<b>4. ะััะณะฐ ะปะธะนะบะฐ (1:15-2:00)</b>
   ะะพะปะธะนัะต ะดะพ 350ะผะป
   ะัะดััะธะผัะนัะต ััะฒะตะฝั ะฒะพะดะธ

<b>5. ะััะฐะฝะฝั ะปะธะนะบะฐ (2:00-2:30)</b>
   ะะพะปะธะนัะต ะดะพ 500ะผะป

<b>6. ะะฐะฒะตััะตะฝะฝั (2:30-4:00)</b>
   ะะพัะตะบะฐะนัะตัั ะฟะพะฒะฝะพะณะพ ะฟัะพะปะธะฒั
   ะะฐะณะฐะปัะฝะธะน ัะฐั: 4:00-4:30

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>๐ฏ ะัะพะฑะปะธะฒะพััั Chemex:</b>

<b>ะคัะปััั:</b>
ะขะพะฒัั ััะปัััะธ = ัะธััััะฐ ัะฐัะบะฐ
ะะธะดะฐะปัั ะฑัะปััะต ะผะฐัะตะป ัะฐ ะดััะฑะธะฝะพะบ

<b>ะกะฟัะฒะฒัะดะฝะพัะตะฝะฝั:</b>
ะกัะฐะฝะดะฐัั: 1:16 (30ะณ : 500ะผะป)
ะััะฝััะต: 1:14 (35ะณ : 500ะผะป)
ะะตะณัะต: 1:18 (27ะณ : 500ะผะป)

<b>ะขะตะผะฟะตัะฐัััะฐ:</b>
ะกะฒััะปะฐ ะบะฐะฒะฐ: 95-96ยฐC
ะขะตะผะฝะฐ ะบะฐะฒะฐ: 90-93ยฐC

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>๐ก ะะพัะฐะดะธ:</b>

โข ะะดะตะฐะปัะฝะพ ะดะปั ะณััะฟะธ (ัะพะฑััั ะฑัะปััะธะน ะฑะฐัั)
โข ะะปะตะณะฐะฝัะฝะฐ ะฟะพะดะฐัะฐ ะฟััะผะพ ะฝะฐ ัััะป
โข ะงะธััะธะน, ััะบัะฐะฒะธะน ะฟัะพััะปั ัะผะฐะบั
โข ะะฐะนะบัะฐัะต ะดะปั ัะฒััะปะพั ัะฟะตัะตะปัั ะบะฐะฒะธ

<b>ะัะธัะผะฝะพะณะพ! โ</b>
"""
    
    builder = InlineKeyboardBuilder()
    builder.row(InlineKeyboardButton(text="โ ะะฐะทะฐะด ะดะพ ัะตัะตะฟััะฒ", callback_data="back_to_recipes"))
    
    await _edit_message_safe(callback, text, builder.as_markup())
    await callback.answer()


@router.callback_query(F.data == "recipe_moka")
async def show_moka_recipe(callback: CallbackQuery):
    """Show Moka Pot brewing recipe."""
    text = """
<b>โ ะะพะบะฐ (ะะตะนะทะตัะฝะฐ ะบะฐะฒะพะฒะฐัะบะฐ)</b>

<b>ะฉะพ ะฟะพัััะฑะฝะพ:</b>
โข ะะพะบะฐ ะฝะฐ 3 ัะฐัะบะธ
โข 18-20ะณ ะบะฐะฒะธ (ัะตัะตะดะฝัะพ-ะดััะฑะฝะพะณะพ ะฟะพะผะตะปั)
โข ะะพะดะฐ (ะดะพ ะบะปะฐะฟะฐะฝะฐ)
โข ะะปะธัะฐ

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>ะะตัะตะฟั:</b>

<b>1. ะะพะดะฐ (0:00)</b>
   ะะฐะณััะนัะต ะฒะพะดั ะดะพ 70-80ยฐC
   ะะฐะปะธะนัะต ะฒ ะฝะธะถะฝั ัะฐััะธะฝั ะดะพ ะบะปะฐะฟะฐะฝะฐ
   
   ๐ก ะะฐัััะฐ ะฒะพะดะฐ โ ัะฒะธะดัะต + ะผะตะฝัะต ะณััะบะพัะธ

<b>2. ะะฐะฒะฐ (0:30)</b>
   ะะฐะฟะพะฒะฝััั ััะปััั ะบะฐะฒะพั "ะท ะณััะบะพั"
   ะะปะตะณะบะฐ ัััััััั (ะะ ััะฐะผะฑัะนัะต!)
   ะัะพััััั ะบัะฐั

<b>3. ะะฑะธัะฐะฝะฝั (1:00)</b>
   ะะฐะบัััััั ัะฐััะธะฝะธ (ะพะฑะตัะตะถะฝะพ - ะณะฐัััะฐ!)
   ะะพััะฐะฒัะต ะฝะฐ ะกะะะะะะะ ะฒะพะณะพะฝั
   ะะฐะปะธััะต ะบัะธัะบั ะฒัะดะบัะธัะพั

<b>4. ะะบัััะฐะบััั (3:00-5:00)</b>
   ะะพััััะต ัะธะฟัะฝะฝั - ะบะฐะฒะฐ ะฟัะดัะนะผะฐััััั
   ะะพะปะธ ะฟะพัะฝะตัะต ัััะธ ะฑัะปัะบะธ - ะทะฝัะผะฐะนัะต!
   ะะ ัะตะบะฐะนัะต ะฝะฐ ะณััะฝะต ัะธะฟัะฝะฝั

<b>5. ะัะพะปะพะดะถะตะฝะฝั (5:00)</b>
   ะะฝัะผััั ะท ะฟะปะธัะธ
   ะะพััะฐะฒัะต ะฝะธะท ะฟัะด ัะพะปะพะดะฝั ะฒะพะดั
   ะฆะต ะทัะฟะธะฝะธัั ะตะบัััะฐะบััั

<b>6. ะะพะดะฐัะฐ (5:30)</b>
   ะะตัะตะผััะฐะนัะต ะบะฐะฒั ั ะฒะตััะฝัะน ัะฐััะธะฝั
   ะะพะทะปะธะนัะต ะฟะพ ัะฐัะบะฐั

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>๐ฏ ะกะตะบัะตัะธ ัะผะฐัะฝะพั ะผะพะบะธ:</b>

<b>ะะพะผะตะป:</b>
ะััะฑะฝััะธะน ะทะฐ ััะปััั, ะบััะฟะฝััะธะน ะทะฐ ะตัะฟัะตัะพ
ะฏะบ ะดััะฑะฝะฐ ะผะพัััะบะฐ ัะตะปั

<b>ะะพะณะพะฝั:</b>
ะกะตัะตะดะฝัะน ะฐะฑะพ ะผะฐะปะธะน
ะะพะฒัะปัะฝะฐ ะตะบัััะฐะบััั = ะบัะฐัะต

<b>ะะฐะฒะฐ:</b>
ะะธะบะพัะธััะพะฒัะนัะต ัะบััะฝั ะบะฐะฒั!
ะoka ะฟัะดะบัะตัะปัั ัะผะฐะบะธ

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>โ ะะพัะธัะตะฝั ะฟะพะผะธะปะบะธ:</b>

โข ะขัะฐะผะฑัะฒะฐะฝะฝั โ ะฟะตัะตะตะบัััะฐะบััั, ะณััะบะพัะฐ
โข ะกะธะปัะฝะธะน ะฒะพะณะพะฝั โ ะฟัะดะณะพััะปะฐ, ะณััะบะฐ 
โข ะฅะพะปะพะดะฝะฐ ะฒะพะดะฐ โ ะดะพะฒะณะฐ ะตะบัััะฐะบััั
โข ะะตัะตะณััะฒ โ ะผะตัะฐะปะตะฒะธะน ะฟัะธัะผะฐะบ

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>๐ก ะะพะดะฐัะบะพะฒะพ:</b>

ะoka ัะพะฑะธัั ะผััะฝั ะบะฐะฒั ะท ะณัััะธะผ ััะปะพะผ.
ะงัะดะพะฒะฐ ะพัะฝะพะฒะฐ ะดะปั ะบะฐะฟัััะฝะพ ะฐะฑะพ ะปะฐัะต!

ะะพะดะฐะนัะต ะผะพะปะพะบะพ, ั ั ะฒะฐั ะดะพะผะฐัะฝัะน ะบะฐะฟัััะฝะพ ๐ฅ

<b>Buon caffรจ! โ</b>
"""
    
    builder = InlineKeyboardBuilder()
    builder.row(InlineKeyboardButton(text="โ ะะฐะทะฐะด ะดะพ ัะตัะตะฟััะฒ", callback_data="back_to_recipes"))
    
    await _edit_message_safe(callback, text, builder.as_markup())
    await callback.answer()


@router.callback_query(F.data == "recipe_turka")
async def show_turka_recipe(callback: CallbackQuery):
    """Show Turkish coffee (Cezve/Turka) recipe."""
    text = """
<b>โ ะะฐะฒะฐ ะฒ ััััั (ะะถะตะทะฒะฐ)</b>

<b>ะฉะพ ะฟะพัััะฑะฝะพ:</b>
โข ะขััะบะฐ (150-200ะผะป)
โข 10-12ะณ ะบะฐะฒะธ (ะดัะถะต ะดััะฑะฝะธะน ะฟะพะผะตะป)
โข 100ะผะป ัะพะปะพะดะฝะพั ะฒะพะดะธ
โข ะฆัะบะพั (ะพะฟััะพะฝะฐะปัะฝะพ)
โข ะกะฟะตััั (ะพะฟััะพะฝะฐะปัะฝะพ)

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>ะะปะฐัะธัะฝะธะน ัะตัะตะฟั:</b>

<b>1. ะะพะผะตะป (ะฒะฐะถะปะธะฒะพ!)</b>
   ะะฐะฒะฐ ะผะฐั ะฑััะธ ะผะฐะนะถะต ัะบ ะฟัะดัะฐ
   ะะฐะนะดััะฑะฝััะธะน ะท ัััั ะผะตัะพะดัะฒ
   
<b>2. ะะผัััะฒะฐะฝะฝั (0:00)</b>
   ะฃ ัััะบั: ะบะฐะฒะฐ + ะฒะพะดะฐ + ััะบะพั
   ะะตัะตะผััะฐะนัะต
   
   ๐ก ะะพะดะฐะนัะต ะบะฐัะดะฐะผะพะฝ ะดะปั ะฐะฒัะตะฝัะธัะฝะพััั

<b>3. ะะฐะณััะฒะฐะฝะฝั (0:30-2:00)</b>
   ะะพััะฐะฒัะต ะฝะฐ ะะะะะ ะฒะพะณะพะฝั
   ะะฑะพ ะฝะฐ ะณะฐัััะธะน ะฟััะพะบ (ััะฐะดะธััะนะฝะพ)
   ะะ ะฟะตัะตะผัััะนัะต ะฑัะปััะต!

<b>4. ะกะฟะพััะตััะณะฐะนัะต (2:00-3:30)</b>
   ะกะปัะดะบัะนัะต ะทะฐ ะฟัะฝะพั
   ะะพะฝะฐ ะฟะพัะฝะต ะฟัะดัะนะผะฐัะธัั
   
<b>5. ะะฝัะผััั (3:30)</b>
   ะะพะปะธ ะฟัะฝะฐ ะฟะพัะฝะต ะฟัะดัะนะผะฐัะธัั - ะทะฝัะผััั!
   ะะพัะตะบะฐะนัะต 10 ัะตะบัะฝะด
   ะะพะฒะตัะฝััั ะฝะฐ ะฒะพะณะพะฝั

<b>6. ะะพะฒัะพัััั (3:45-4:00)</b>
   ะฉะต 1-2 ัะฐะทะธ ะฟัะดะฝัะผััั ะฟัะฝั
   ะฆะต ััะฒะพััั ะณัััั ะฟัะฝะบั
   
<b>7. ะะพะดะฐัะฐ (4:00)</b>
   ะะตัะตะปะปะธะนัะต ะฒ ะผะฐะปะตะฝัะบั ัะฐัะบั
   ะะต ะฟะตัะตะผัััะนัะต!
   ะะพัะตะบะฐะนัะตัั ะพััะดะฐะฝะฝั ะณััั

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>๐ ะะฐััะฐััั:</b>

<b>ะะพ-ัััะตััะบะธ:</b>
+ ะะฐัะดะฐะผะพะฝ (2-3 ะทะตัะฝััะบะฐ)

<b>ะะพ-ะฐัะฐะฑััะบะธ:</b>
+ ะะฐัะดะฐะผะพะฝ + ะขัะพัะฝะดะฐ

<b>ะะพ-ัะณะธะฟะตัััะบะธ:</b>
ะะฐะณะฐัะพ ััะบัั + ะะฐัะดะฐะผะพะฝ

<b>ะะพ-ะณัะตััะบะธ:</b>
ะกะตัะตะดะฝัะน ะฟะพะผะตะป, ะผะตะฝัะต ัะฐัั

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>๐ก ะะพัะฐะดะธ:</b>

<b>ะัะฝะฐ:</b>
ะฅะพัะพัะฐ ะฟัะฝะฐ = ะฟัะฐะฒะธะปัะฝะต ะฟัะธะณะพััะฒะฐะฝะฝั
ะขะตะผะฝะฐ, ะณัััะฐ ะฟัะฝะฐ - ะฝะฐะนะบัะฐัะฐ!

<b>ะกะตัะฒัะฒะฐะฝะฝั:</b>
ะะพะดะฐะฒะฐะนัะต ะทั ัะบะปัะฝะบะพั ัะพะปะพะดะฝะพั ะฒะพะดะธ
ะะพะดะฐ ะพัะธััั ัะตัะตะฟัะพัะธ

<b>ะงะธัะฐะฝะฝั ะณััั:</b>
ะกะฟัะฐะฒะถะฝั ััะฐะดะธััั! ๐ฎ
ะะตัะตะฒะตัะฝััั ัะฐัะบั ะฟััะปั ะฒะธะฟะธััั

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>โ๏ธ ะะฐะถะปะธะฒะพ:</b>

ะะต ะบะธะฟ'ััััั! ะะฝัะผะฐะนัะต ะดะพ ะบะธะฟัะฝะฝั.
ะะฐะปะต ะฟะพะปัะผ'ั - ะพะฑะพะฒ'ัะทะบะพะฒะพ.
ะขะตัะฟัะฝะฝั - ัะต ะบะปัั ะดะพ ััะฟััั.

<b>ะัะธัะผะฝะพะณะพ ัะผะฐะบัะฒะฐะฝะฝั! โ</b>
"""
    
    builder = InlineKeyboardBuilder()
    builder.row(InlineKeyboardButton(text="โ ะะฐะทะฐะด ะดะพ ัะตัะตะฟััะฒ", callback_data="back_to_recipes"))
    
    await _edit_message_safe(callback, text, builder.as_markup())
    await callback.answer()


@router.callback_query(F.data == "recipe_cold_brew")
async def show_cold_brew_recipe(callback: CallbackQuery):
    """Show Cold Brew brewing recipe."""
    text = """
<b>โ๏ธ Cold Brew (ะฅะพะปะพะดะฝะธะน ะฝะฐะฟัะน)</b>

<b>ะฉะพ ะฟะพัััะฑะฝะพ:</b>
โข ะะฐะฝะบะฐ ะฐะฑะพ Cold Brew ะณะตะนะทะตั
โข 50-80ะณ ะบะฐะฒะธ (ะดัะถะต ะณััะฑะพะณะพ ะฟะพะผะตะปั)
โข 500-800ะผะป ัะพะปะพะดะฝะพั ััะปัััะพะฒะฐะฝะพั ะฒะพะดะธ
โข ะะฐะณะธ
โข ะคัะปััั

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>ะะตัะตะฟั:</b>

<b>1. ะะพะผะตะป</b>
   ะะฐะฒะฐ ะผะฐั ะฑััะธ ัะบ ะฟะฐะฝัััะฒะฐะปัะฝั ัััะฐัั
   ะััะฟะฝััะธะน, ะฝัะถ ะดะปั ััะตะฝั-ะฟัะตัั
   ะฆะต ะบัะธัะธัะฝะพ ะฒะฐะถะปะธะฒะพ!

<b>2. ะะผัััะฒะฐะฝะฝั (0:00)</b>
   ะะธัะธะฟัะต ะบะฐะฒั ะฒ ะฑะฐะฝะบั
   ะะฐะปะธะนัะต ัะพะปะพะดะฝะพั ะฒะพะดะพั (1:10 ะดะพ 1:16)
   ะะตัะตะผััะฐะนัะต

<b>3. ะะบัััะฐะบััั (0:00-12:24)</b>
   ะะพััะฐะฒัะต ะฒ ัะพะปะพะดะธะปัะฝะธะบ
   ะงะตะบะฐะนัะต 12-24 ะณะพะดะธะฝะธ!
   
<b>ะคัะปัััะฐััั</b>
   ะัะพััะดััั ัะตัะตะท ััะปััั
   ะะพะฒัะพัััั 2-3 ัะฐะทะธ

<b>4. ะะพะทะฒะตะดะตะฝะฝั</b>
   ะะพะฝัะตะฝััะฐั + ะฒะพะดะฐ 1:1 ะฐะฑะพ 1:2
   ะกะฟัะพะฑัะนัะต ั ะดะพะดะฐะนัะต ะทะฐ ัะผะฐะบะพะผ

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>๐ฏ ะัะพะฟะพัััั:</b>

<b>ะะปะฐัะธัะฝะธะน:</b>
50ะณ ะบะฐะฒะธ : 500ะผะป ะฒะพะดะธ (1:10)
โ ะะพะฝัะตะฝััะฐั, ัะพะทะฒะพะดะธัะธ 1:1

<b>ะะตะณะบะธะน:</b>
40ะณ ะบะฐะฒะธ : 600ะผะป ะฒะพะดะธ (1:15)
โ ะะพัะพะฒะธะน ะดะพ ะฒะถะธะฒะฐะฝะฝั

<b>ะััะฝะธะน:</b>
80ะณ ะบะฐะฒะธ : 500ะผะป ะฒะพะดะธ (1:6)
โ ะะปั ัะธั, ััะพ ะปัะฑะธัั ะผััะฝะพ

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>โฑ๏ธ ะงะฐั ะตะบัััะฐะบััั:</b>

<b>12 ะณะพะดะธะฝ:</b>
ะะตะณะบะธะน, ัััะบัะพะฒะธะน ัะผะฐะบ

<b>18 ะณะพะดะธะฝ:</b>
ะะฑะฐะปะฐะฝัะพะฒะฐะฝะธะน

<b>24 ะณะพะดะธะฝะธ:</b>
ะะฐัะธัะตะฝะธะน, ัะพะบะพะปะฐะดะฝะธะน

<b>48 ะณะพะดะธะฝ:</b>
ะัะถะต ะผััะฝะธะน, ะผะพะถะต ะฑััะธ ะณััะบะธะผ

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>๐ก ะะพัะฐะดะธ:</b>

<b>ะะพะดะฐ:</b>
ะะฑะพะฒ'ัะทะบะพะฒะพ ััะปัััะพะฒะฐะฝะฐ!
ะฅะพะปะพะดะฝะฐ ะฐะฑะพ ะบัะผะฝะฐัะฝะพั ัะตะผะฟะตัะฐัััะธ

<b>ะะฐะฒะฐ:</b>
ะกะฒััะปะต ะพะฑัะผะฐะถะตะฝะฝั = ะฑัะปััะต ะบะธัะปะธะฝะบะธ
ะขะตะผะฝะต = ะฑัะปััะต ะณััะบะพัะธ

<b>ะะฑะตััะณะฐะฝะฝั:</b>
ะะพะฝัะตะฝััะฐั ะฒ ัะพะปะพะดะธะปัะฝะธะบั ะดะพ 2 ัะธะถะฝัะฒ
ะะพะทะฒะตะดะตะฝะธะน ะฝะฐะฟัะน - 3-5 ะดะฝัะฒ

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>โ ะฏะบ ะฟะพะดะฐะฒะฐัะธ:</b>

โข ะ ะปัะพะดะพะผ
โข ะ ะผะพะปะพะบะพะผ ะฐะฑะพ ะฒะตััะบะฐะผะธ
โข ะ ัะธัะพะฟะพะผ (ะฒะฐะฝัะปั, ะบะฐัะฐะผะตะปั)
โข ะ ัะพะดะพะฒะพั (ะบะพะปะฐ ะฑัั ัะพะฝะธะบ)
โข ะงะธััะธะผ

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>โ ะะพัะธัะตะฝั ะฟะพะผะธะปะบะธ:</b>

โข ะััะฑะฝะธะน ะฟะพะผะตะป โ ะบะฐะปะฐะผััะฝะธะน ะฝะฐะฟัะน
โข ะะฐัััะฐ ะฒะพะดะฐ โ ะฝะต Cold Brew!
โข ะะฐะปะพ ัะฐัั โ ะฒะพะดัะฝะธััะธะน ัะผะฐะบ
โข ะะฐะฝะฐะดัะพ ะฑะฐะณะฐัะพ ะบะฐะฒะธ โ ะณััะบะพัะฐ

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>ะะตัะตะฒะฐะณะธ Cold Brew:</b>

โ ะะธะทัะบะฐ ะบะธัะปะพัะฝัััั (ะบะพัะธัะฝะธะน ะดะปั ัะปัะฝะบะฐ)
โ ะ'ััััั ะฟะพะฒัะปัะฝะพ, ะฝะต ะฟััััััั
โ ะะตะณะบะพ ะฟัะธะณะพััะฒะฐัะธ ะฑะฐะณะฐัะพ
โ ะัะฒัะถะฐั ะฒ ัะฟะตะบั

<b>ะะฐัะพะปะพะดะถัะนัะตัั ัะพะปะพะดะฝะพั ะบะฐะฒะพั! โ๏ธโ</b>
"""
    
    builder = InlineKeyboardBuilder()
    builder.row(InlineKeyboardButton(text="โ ะะฐะทะฐะด ะดะพ ัะตัะตะฟััะฒ", callback_data="back_to_recipes"))
    
    await _edit_message_safe(callback, text, builder.as_markup())
    await callback.answer()


@router.callback_query(F.data == "recipe_hario_switch")
async def show_hario_switch_recipe(callback: CallbackQuery):
    """Show Hario Switch brewing recipe."""
    text = """
<b>๐ Hario Switch</b>

<b>ะฉะพ ะฟะพัััะฑะฝะพ:</b>
โข Hario Switch
โข ะะฐะฟะตัะพะฒะธะน ััะปััั
โข 20ะณ ะบะฐะฒะธ (ัะตัะตะดะฝัะพะณะพ ะฟะพะผะตะปั)
โข 300ะผะป ะฒะพะดะธ (93-96ยฐC)
โข ะะฐะณะธ, ัะฐะนะผะตั

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>ะะตัะตะฟั:</b>

<b>1. ะัะดะณะพัะพะฒะบะฐ (0:00)</b>
   ะะฐะบัะธะนัะต ะบะปะฐะฟะฐะฝ ะฝะฐ Switch
   ะัะพะผะธะนัะต ััะปััั ะณะฐัััะพั ะฒะพะดะพั
   ะะธัะธะฟัะต ะบะฐะฒั, ะทัะพะฑััั ะปัะฝะบั

<b>2. ะะปัะผ (0:00-0:45)</b>
   ะะฐะปะธะนัะต 40ะผะป ะฒะพะดะธ
   ะะตัะตะผััะฐะนัะต
   ะะพัะตะบะฐะนัะต 45 ัะตะบัะฝะด

<b>3. ะะฐะปะธะฒะบะฐ (0:45-1:45)</b>
   ะัะดะบัะธะนัะต ะบะปะฐะฟะฐะฝ!
   ะะพะดะฐ ะฟะพัะฝะต ัััะบะฐัะธ
   ะะฐะปะธะฒะฐะนัะต ะฟะพะฒัะปัะฝะพ ะดะพ 300ะผะป
   ะััะธ ะฟะพ ะบะพะปั

<b>4. ะคัะปัััะฐััั (1:45-2:30)</b>
   ะะพะดะฐ ะฟัะพัะพะดะธัั ัะตัะตะท ะบะฐะฒั
   ะะพะปะธ ะฟะตัะตััะฐะฝะต ะบะฐะฟะฐัะธ - ะทะฐะบัะธะนัะต ะบะปะฐะฟะฐะฝ
   
<b>5. ะััะฐะฝะฝั ัะฐะทะฐ (2:30-3:00)</b>
   ะะตัะตะผััะฐะนัะต 2-3 ัะฐะทะธ
   ะัะดะบัะธะนัะต ะบะปะฐะฟะฐะฝ
   ะะพัะตะบะฐะนัะตัั ะฟะพะฒะฝะพะณะพ ะฟัะพะปะธะฒั

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>๐ฏ Switch vs V60:</b>

<b>Switch ะดะฐั:</b>
โข ะัะปััะต ะบะพะฝััะพะปั (ะบะปะฐะฟะฐะฝ)
โข ะะตะณัะต ะณะพััะฒะฐัะธ (ะฝะต ะฟะพัััะฑะฝะพ ะปะธัะธ ะฟะพะฒัะปัะฝะพ)
โข ะขัะพัะธ ะฑัะปััะต ััะปะฐ
โข ะะตะฝั ะฒะธะฑะฐะณะปะธะฒะธะน ะดะพ ัะตัะฝัะบะธ

<b>V60 ะดะฐั:</b>
โข ะจะฒะธะดัะต ะฟัะธะณะพััะฒะฐะฝะฝั
โข ะัะปัั ัะธััะธะน ัะผะฐะบ
โข ะัะปัั ะฒะธัะฐะถะตะฝะธะน ะฟัะพััะปั

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>๐ก ะะพัะฐะดะธ:</b>

<b>ะะพะปะธ ะฒัะดะบัะธะฒะฐัะธ ะบะปะฐะฟะฐะฝ:</b>
โข ะัะดัะฐะทั ะฟััะปั ะฑะปัะผั = ะปะตะณัะธะน ัะผะฐะบ
โข ะะตัะตะด ัะฐะผะธะผ ะบัะฝัะตะผ = ะฟะพะฒะฝััะต ััะปะพ

<b>ะะพะผะตะป:</b>
ะขัะพัะธ ะบััะฟะฝััะธะน, ะฝัะถ ะดะปั V60
ะงะตัะตะท ััะปััั ะฒะพะดะฐ ั ัะฐะบ ะฟัะพัะพะดะธัั ะฟะพะฒัะปัะฝะพ

<b>ะกะฟัะฒะฒัะดะฝะพัะตะฝะฝั:</b>
1:15 - 1:17 (ััะฐะฝะดะฐัั)
20ะณ : 300ะผะป

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>โ ะะพะผะธะปะบะธ:</b>

โข ะะฐะฝะฐะดัะพ ะดััะฑะฝะธะน ะฟะพะผะตะป โ ะฟะพะฒัะปัะฝะธะน ะฟัะพะปะธะฒ
โข ะะฐัััะฐ ะฒะพะดะฐ โ ะฟะตัะตะตะบัััะฐะบััั
โข ะัะดะบัะธัะธะน ะบะปะฐะฟะฐะฝ ะฝะฐ ะฟะพัะฐัะบั โ ะฝะตะดะพะตะบัััะฐะบััั

<b>ะกะผะฐัะฝะพะณะพ! โ</b>
"""
    
    builder = InlineKeyboardBuilder()
    builder.row(InlineKeyboardButton(text="โ ะะฐะทะฐะด ะดะพ ัะตัะตะฟััะฒ", callback_data="back_to_recipes"))
    
    await _edit_message_safe(callback, text, builder.as_markup())
    await callback.answer()


@router.callback_query(F.data == "recipe_basics")
async def show_brewing_basics(callback: CallbackQuery):
    """Show brewing basics guide."""
    text = """
<b>๐ ะัะฝะพะฒะธ ะฟัะธะณะพััะฒะฐะฝะฝั ะบะฐะฒะธ</b>

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>โ๏ธ ะกะฟัะฒะฒัะดะฝะพัะตะฝะฝั ะบะฐะฒะฐ:ะฒะพะดะฐ</b>

<b>ะะฐะณะฐะปัะฝะต ะฟัะฐะฒะธะปะพ:</b> 1:15 ะดะพ 1:17

<b>ะัะธะบะปะฐะดะธ:</b>
โข ะััะฝะฐ: 20ะณ ะบะฐะฒะธ : 300ะผะป ะฒะพะดะธ (1:15)
โข ะกัะฐะฝะดะฐัั: 18ะณ ะบะฐะฒะธ : 300ะผะป ะฒะพะดะธ (1:17)
โข ะะตะณะบะฐ: 15ะณ ะบะฐะฒะธ : 300ะผะป ะฒะพะดะธ (1:20)

๐ก ะะพัะธัััะนัะตัั ะฒะฐะณะฐะผะธ, ะฝะต ะผััะบะฐะผะธ!

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>๐ฅ ะขะตะผะฟะตัะฐัััะฐ ะฒะพะดะธ</b>

<b>ะกะฒััะปะฐ ะบะฐะฒะฐ:</b> 93-96ยฐC
   โ ะัะดะบัะตัะปัั ะบะธัะปะธะฝะบั
   
<b>ะกะตัะตะดะฝั:</b> 90-93ยฐC
   โ ะะฑะฐะปะฐะฝัะพะฒะฐะฝะธะน ัะผะฐะบ
   
<b>ะขะตะผะฝะฐ:</b> 85-90ยฐC
   โ ะฃะฝะธะบะฐะนัะต ะณััะบะพัะธ

<b>ะะตะท ัะตัะผะพะผะตััะฐ?</b>
ะััะปั ะบะธะฟัะฝะฝั ะฟะพัะตะบะฐะนัะต:
30 ัะตะบ = ~95ยฐC
60 ัะตะบ = ~90ยฐC
90 ัะตะบ = ~85ยฐC

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>โ๏ธ ะะพะผะตะป ะบะฐะฒะธ</b>

<b>ะขััะบะฐ:</b> ะัะดัะฐ
<b>ะัะฟัะตัะพ:</b> ะัะถะต ะดััะฑะฝะธะน
<b>ะoka:</b> ะััะฑะฝะธะน
<b>ะะตัะพะฟัะตั:</b> ะกะตัะตะดะฝัะพ-ะดััะฑะฝะธะน
<b>ะััะพะฒะตั:</b> ะกะตัะตะดะฝัะน
<b>ะคัะตะฝั-ะฟัะตั:</b> ะััะฑะธะน
<b>ะะพะปะด ะฑัั:</b> ะัะถะต ะณััะฑะธะน

๐ก ะะตะปะธัะธ ะฟะตัะตะด ะฟัะธะณะพััะฒะฐะฝะฝัะผ!
ะะผะตะปะตะฝะฐ ะบะฐะฒะฐ ัะฒะธะดะบะพ ะฒััะฐัะฐั ะฐัะพะผะฐั.

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>๐ง ะฏะบัััั ะฒะพะดะธ</b>

<b>ะะดะตะฐะปัะฝะฐ ะฒะพะดะฐ:</b>
โข ะคัะปัััะพะฒะฐะฝะฐ ะฐะฑะพ ะฑััะธะปัะพะฒะฐะฝะฐ
โข ะ'ัะบัััั: 50-150 ppm
โข pH: 7.0

<b>ะฃะฝะธะบะฐะนัะต:</b>
โ ะะธััะธะปัะพะฒะฐะฝะฐ (ะฝะตะดะพะตะบัััะฐะบััั)
โ ะัะถะต ะถะพัััะบะฐ (ะฟะตัะตะตะบัััะฐะบััั)
โ ะฅะปะพัะพะฒะฐะฝะฐ (ะฟะพะณััััั ัะผะฐะบ)

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>โฑ๏ธ ะงะฐั ะตะบัััะฐะบััั</b>

<b>ะัะฟัะตัะพ:</b> 25-30 ัะตะบัะฝะด
<b>ะะตัะพะฟัะตั:</b> 1-2 ัะฒะธะปะธะฝะธ
<b>ะััะพะฒะตั:</b> 2:30-3:30
<b>ะคัะตะฝั-ะฟัะตั:</b> 4 ัะฒะธะปะธะฝะธ
<b>ะoka:</b> 4-5 ัะฒะธะปะธะฝ
<b>ะะพะปะด ะฑัั:</b> 12-24 ะณะพะดะธะฝะธ

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>๐ฏ ะฃััะฝะตะฝะฝั ะฟัะพะฑะปะตะผ</b>

<b>ะะฐะฝะฐะดัะพ ะณััะบะพ:</b>
โข ะััะฟะฝััะธะน ะฟะพะผะตะป
โข ะะธะถัะฐ ัะตะผะฟะตัะฐัััะฐ
โข ะะตะฝัะต ัะฐัั
โข ะะตะฝัะต ะบะฐะฒะธ

<b>ะะฐะฝะฐะดัะพ ะบะธัะปะพ:</b>
โข ะััะฑะฝััะธะน ะฟะพะผะตะป
โข ะะธัะฐ ัะตะผะฟะตัะฐัััะฐ
โข ะัะปััะต ัะฐัั
โข ะัะปััะต ะบะฐะฒะธ

<b>ะะพะดัะฝะธััะธะน ัะผะฐะบ:</b>
โข ะัะปััะต ะบะฐะฒะธ
โข ะััะฑะฝััะธะน ะฟะพะผะตะป
โข ะะธัะฐ ัะตะผะฟะตัะฐัััะฐ

<b>ะะตัะฐะปะตะฒะธะน ะฟัะธัะผะฐะบ:</b>
โข ะัะฐัะฐ ัะบัััั ะฒะพะดะธ
โข ะงะธััััะต ะพะฑะปะฐะดะฝะฐะฝะฝั

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>๐งผ ะะพะณะปัะด ะทะฐ ะพะฑะปะฐะดะฝะฐะฝะฝัะผ</b>

<b>ะฉะพะดะฝั:</b>
ะัะพะผะธะฒะฐะนัะต ะณะฐัััะพั ะฒะพะดะพั

<b>ะฉะพัะธะถะฝั:</b>
ะะธััั ะท ัะพะดะพั

<b>ะฉะพะผััััั:</b>
ะะปะธะฑะพะบะต ะพัะธัะตะฝะฝั

๐ก ะงะธััะต ะพะฑะปะฐะดะฝะฐะฝะฝั = ัะธััะฐ ะบะฐะฒะฐ!

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>โ ะะฑะตััะณะฐะฝะฝั ะบะฐะฒะธ</b>

<b>ะัะฐะฒะธะปัะฝะพ:</b>
โ ะะตัะผะตัะธัะฝะฐ ัะฟะฐะบะพะฒะบะฐ
โ ะขะตะผะฝะต ะผัััะต
โ ะัะผะฝะฐัะฝะฐ ัะตะผะฟะตัะฐัััะฐ
โ ะะพะดะฐะปั ะฒัะด ะทะฐะฟะฐััะฒ

<b>ะะตะฟัะฐะฒะธะปัะฝะพ:</b>
โ ะฅะพะปะพะดะธะปัะฝะธะบ (ะฒะพะปะพะณะฐ!)
โ ะะพัะพะทะธะปะบะฐ (ะบะพะฝะดะตะฝัะฐั!)
โ ะฏัะบัะฐะฒะต ัะฒััะปะพ
โ ะัะดะบัะธัะฐ ัะฟะฐะบะพะฒะบะฐ

<b>ะขะตัะผัะฝ ะทะฑะตััะณะฐะฝะฝั:</b>
ะะตัะฝะพ: ะดะพ 6 ะผัััััะฒ
ะััะปั ัะพะทะบัะธััั: 2-3 ัะธะถะฝั
ะะตะปะตะฝะฐ: 1 ัะธะถะดะตะฝั ะผะฐะบัะธะผัะผ!

โโโโโโโโโโโโโโโโโโโโโโโโโโโ

<b>ะัะฐะบัะธะบัะนัะตัั ั ะฝะฐัะพะปะพะดะถัะนัะตัั! โ</b>
"""
    
    builder = InlineKeyboardBuilder()
    builder.row(InlineKeyboardButton(text="โ ะะฐะทะฐะด ะดะพ ัะตัะตะฟััะฒ", callback_data="back_to_recipes"))
    
    await _edit_message_safe(callback, text, builder.as_markup())
    await callback.answer()
